@using IslandFoodmart.Areas.Identity.Data;
@using Microsoft.AspNetCore.Identity
@inject SignInManager<DatabaseUser> SignInManager
@inject UserManager<DatabaseUser> UserManager

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="~/css/contact.css" />
</head>
<body>
    <div class="contactus">
        <div class="title">
            <h2>Contact Us</h2>
        </div>
        <div class="box">
            <!-- Contact Form -->
            <div class="contact form">
                <h3>Get in touch</h3>
                <form action="https://formspree.io/f/xoqoyvwj" method="POST">

                    <div class="formBox">
                        <div class="row50">
                            @if (SignInManager.IsSignedIn(User))
                            {
                                <div class="inputBox">
                                    <span>First Name</span>
                                    <input type="text" name="First Name" value="@UserManager.GetUserAsync(User).Result.FirstName">
                                </div>
                                <div class="inputBox">
                                    <span>Last Name</span>
                                    <input type="text" name="Last Name" value="@UserManager.GetUserAsync(User).Result.LastName">
                                </div>
                            }
                            else
                            {
                                <div class="inputBox">
                                    <span>First Name</span>
                                    <input type="text" name="First Name" placeholder="Jane">
                                </div>
                                <div class="inputBox">
                                    <span>Last Name</span>
                                    <input type="text" name="Last Name" placeholder="Doe">
                                </div>
                            }
                        </div>
                    
                        <div class="row50">
                            @if (SignInManager.IsSignedIn(User))
                            {
                                <div class="inputBox">
                                    <span>Email</span>
                                    <input type="text" placeholder="janedoe@email.com" name="Email" value="@UserManager.GetUserAsync(User).Result.Email">
                                </div>
                                <div class="inputBox">
                                    <span>Mobile</span>
                                    <input type="text" placeholder="012 345 6789" name="Phone Number" value="@UserManager.GetUserAsync(User).Result.PhoneNumber">
                                </div>
                            }
                            else
                            {
                                <div class="inputBox">
                                    <span>Email</span>
                                    <input type="text"  placeholder="janedoe@email.com">
                                </div>
                                <div class="inputBox">
                                    <span>Mobile</span>
                                    <input type="text"  placeholder="012 345 6789">
                                </div>
                            }
                        </div>
                        <div class="row100">
                            <div class="inputBox">
                                <span>Message</span>
                                <textarea name="message" placeholder="Type your message..."></textarea>
                            </div>
                        </div>
                        
                        <div class="row100">
                            <div class="inputBox">
                                <input type="submit" value="Send">
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <!-- Info Box -->
            <div class="contact info">
                <h3>Contact Info</h3>
                <div class="infoBox">
                    <div>
                        <span><ion-icon name="location"></ion-icon></span>
                        <p>1888 Great North Road, Avondale</p>
                    </div>
                    <div>
                        <span><ion-icon name="mail"></ion-icon></span>
                        <a href="mailto:sanjay@levelltd.co.nz">sanjay@levelltd.co.nz</a>
                    </div>
                    <div>
                        <span><ion-icon name="call"></ion-icon></span>
                        <a href="tel:+64021338104">+64 021 338 104</a>
                    </div>
                </div>
            </div>
            <!-- Map -->
            <div class="contact map">
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3190.806808957151!2d174.69428500960112!3d-36.894969681969954!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x6d0d46cecd039fb5%3A0x458f15f05439e7af!2sIsland%20Foodmart!5e0!3m2!1sen!2snz!4v1689334445773!5m2!1sen!2snz" 
                style="border-radius: 10px; width: 100%; height: 100%;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
            </div>
        </div>
    </div>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
</body>
</html>